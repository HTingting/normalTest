<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="./d3.min.js"></script>
<body>

</body>
</html>
<script>
    const svg = d3.select('body').append('svg');
    const defs = svg.append('defs');

    const linearGradient = defs.append('linearGradient')
    .attr('id','linear-gradient');

    // 优化代码，更进一步！
    const colorScale = d3.scaleLinear()
        .range(["#2c7bb6", "#00a6ca","#00ccbc","#90eb9d","#ffff8c","#f9d057","#f29e2e","#e76818","#d7191c"])

    linearGradient.selectAll('stop')
        .data(colorScale.range())
        .enter().append('stop')
        .attr('offset', (d, i) => i / (colorScale.range().length - 1))
        .attr('stop-color', d => d)

    svg.append('rect')
        .attr('width',320)
        .attr('height',20)
        .attr('fill','url(#linear-gradient)')

</script>
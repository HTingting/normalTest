<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #canvas{
            border:1px solid grey;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="800" height="600"></canvas>
</body>
<script>
    /**
     *   1.绘制图像
         2.清除图像
         3.更新位置
         4.绘制图像
         5.2 3 4 2 3 4
     */

    move();

    var x = 0,y = 0, width = 100, height = 100, speedX = 2, speedY = 2;

    function move(){
        var canvas = document.getElementById('canvas');
        if(canvas.getContext){
            var ctx = canvas.getContext('2d');
            //第一步：绘制图像
            ctx.beginPath();
            ctx.fillStyle = 'red';
            ctx.fillRect(x,y,width,height);
            ctx.closePath();

            //第二步：清除画布
            ctx.clearRect(0,0,canvas.width,canvas.height);

            //第三步：更新位置
            x += speedX;
            //判断x的值是否大于容器最右侧或小于容器最左侧
            if(x > canvas.width - width){
                speedX *= -1;
            }else if(x < 0){
                speedX *= -1;
            }

            y += speedY;
            //判断y的值是否大于容器最右侧或小于容器最下侧
            if(y > canvas.height - height){
                speedY *= -1;
            }else if(y < 0){
                speedY *= -1;
            }

            //第四步：绘制图片
            ctx.fillRect(x,y,width,height);
            window.requestAnimationFrame(move);
        }



    }
</script>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,height=device-height">
    <title>多色南丁格尔玫瑰图</title>
    <style>::-webkit-scrollbar{display:none;}html,body{overflow:hidden;height:100%;margin:0;}</style>
</head>
<body>
<div id="mountNode"></div>
<script>/*Fixing iframe window.innerHeight 0 issue in Safari*/document.body.clientHeight;</script>
<script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g2-3.5.1/dist/g2.min.js"></script>
<script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.10.1/dist/data-set.min.js"></script>
<script>
    var data = [{
        year: '2001',
        population: 41.8
    }, {
        year: '2002',
        population: 38
    }, {
        year: '2003',
        population: 33.7
    }, {
        year: '2004',
        population: 30.7
    }, {
        year: '2005',
        population: 25.8
    }, {
        year: '2006',
        population: 31.7
    }, {
        year: '2007',
        population: 33
    }, {
        year: '2008',
        population: 46
    }, {
        year: '2009',
        population: 38.3
    }, {
        year: '2010',
        population: 28
    }, {
        year: '2011',
        population: 42.5
    }, {
        year: '2012',
        population: 30.3
    }];

    var chart = new G2.Chart({
        container: 'mountNode',
        forceFit: true,
        height: window.innerHeight
    });
    chart.source(data);
    chart.legend({
        position: 'right',
        offsetY: -window.innerHeight / 2 + 180,
        offsetX: -140
    });
    chart.axis(false);
    chart.tooltip({
            containerTpl: '<div class="g2-tooltip">'
            + '<p class="g2-tooltip-title"><span>写死也不可以？？？</span></p>'
            + '<table class="g2-tooltip-list"></table>'
            + '</div>', // tooltip的外层模板
        itemTpl: '<tr class="g2-tooltip-list-item"><td style="color:{color}">{name}</td><td>{value}</td><td>{color}</td></tr>', // 支持的字段 index,color,name,value
        offset: 50,
        'g2-tooltip': {
            position: 'absolute',
            visibility: 'hidden',
            border : '1px solid #efefef',
            backgroundColor: 'white',
            color: '#000',
            opacity: '0.8',
            padding: '5px 15px',
            'transition': 'top 200ms,left 200ms'
        }, // 设置 tooltip 的 css 样式
        'g2-tooltip-list': {
            margin: '10px'
        }
    });
    chart.interval().position('year*population').color('year', G2.Global.colors_pie_16).style({
        lineWidth: 1,
        stroke: '#fff'
    });
    chart.render();
</script>
</body>
</html>

ES6,æˆ–è®¸åº”è¯¥å« ES2015ï¼ˆ2015 å¹´ 6 æœˆæ­£å¼å‘å¸ƒ)ã€‚ç™½é©¹è¿‡éš™ï¼Œå››å¹´è¿‡å»äº†ã€‚ï¼ˆå•Šå•Šå•Šå•Šå•Šå•Šï¼Œå²æœˆè¿™æŠŠæ€ğŸ·åˆ€å•Šï¼‰å¯¹äº ES6ï¼Œæœ‰äº›åŒå­¦å·²ç»åœ¨é¡¹ç›®ä¸­æœ‰è¿‡æ·±å…¥ä½¿ç”¨äº†ï¼Œæœ‰äº›åˆ™åˆšåˆšå¼€å§‹è®¤è¯†ä»–ï¼Œä½†ä¸è®ºä½ æ˜¯å±äºå“ªä¸€ç±»ï¼Œç›¸ä¿¡è¿™ç¯‡æ–‡ç« éƒ½æœ‰é€‚åˆä½ çš„éƒ¨åˆ†ã€‚é’ˆå¯¹æ–‡ç« ä¸­çš„é—®é¢˜æˆ–ä¸åŒæ„è§ï¼Œæ¬¢è¿éšæ—¶æŠŠæˆ‘æ‹æ­»æ²™æ»©ä¸ŠğŸ¶

Let + Const
---
è¯´ï¼Œåˆšç”¨çš„ES6çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯ç¬¬ä¸€ä¸ªæ’¸å®ƒï¼Ÿæœ‰ä»¥ä¸‹æ–¹å¼ä½¿ç”¨çš„åŒå­¦è¯·ä¸¾ä¸‹è‡ªå·±çš„çˆªå­
```
//å®šä¹‰å¸¸é‡
const REG_NUMBER = /^[0-9]*$/;

//å®šä¹‰é…ç½®é¡¹
let config = {
	isDev: false,
	pubDir: './public'
}

//å¼•å…¥swiper
let gulp = require('gulp');

//å¼•å…¥gulpç›¸å…³æ’ä»¶
let concat = require('gulp-concat');  
let uglify = require('gulp-uglify');  
let cssnano = require('gulp-cssnano');
```
å¾ˆå¤šäººçœ‹å®Œæ¦‚å¿µä¹‹åï¼Œç¬¬ä¸€å°è±¡éƒ½æ˜¯ï¼šâ€œconstæ˜¯è¡¨ç¤ºä¸å¯å˜çš„å€¼ï¼Œè€Œletåˆ™ç”¨æ¥æ›¿æ¢åŸæ¥çš„varçš„ã€‚

æ‰€ä»¥å°±ä¼šå‡ºç°ä¸Šé¢ä»£ç çš„æ ·å­ï¼šä¸€æ®µä»£ç ä¸­å‡ºç°å¤§é‡çš„letï¼Œåªæœ‰éƒ¨åˆ†å¸¸é‡ç”¨constå»åšå®šä¹‰ã€‚ğŸ¶è¿™ç§çš„ä½¿ç”¨æ–¹å¼æ˜¯ä¸å¯¹çš„ã€‚

ä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹
---
`const`Â çš„å®šä¹‰æ˜¯**ä¸å¯é‡æ–°èµ‹å€¼**çš„å€¼ï¼Œä¸ä¸å¯å˜çš„å€¼(immutable value)ä¸åŒï¼›`const`Â å®šä¹‰çš„ Objectï¼Œåœ¨å®šä¹‰ä¹‹åä»å¯ä»¥ä¿®æ”¹å…¶å±æ€§ã€‚

æ‰€ä»¥å…¶å®ä»–çš„ä½¿ç”¨åœºæ™¯å¾ˆå¹¿ï¼ŒåŒ…æ‹¬å¸¸é‡ã€é…ç½®é¡¹ä»¥åŠå¼•ç”¨çš„ç»„ä»¶ã€å®šä¹‰çš„ â€œå¤§éƒ¨åˆ†â€ ä¸­é—´å˜é‡ç­‰ï¼Œéƒ½åº”è¯¥ä»¥`const`åšå®šä¹‰ã€‚åä¹‹å°±Â `let`Â è€Œè¨€ï¼Œä»–çš„ä½¿ç”¨åœºæ™¯åº”è¯¥æ˜¯ç›¸å¯¹è¾ƒå°‘çš„ï¼Œæˆ‘ä»¬åªä¼šåœ¨ loop(forï¼Œwhile å¾ªç¯)åŠå°‘é‡å¿…é¡»é‡å®šä¹‰çš„å˜é‡ä¸Šç”¨åˆ°ä»–ã€‚

> çŒœæƒ³ï¼šå°±æ‰§è¡Œæ•ˆç‡è€Œè¨€ï¼Œ`const`Â ç”±äºä¸å¯ä»¥é‡æ–°èµ‹å€¼çš„ç‰¹æ€§ï¼Œæ‰€ä»¥å¯ä»¥åšæ›´å¤šè¯­æ³•é™æ€åˆ†ææ–¹é¢çš„ä¼˜åŒ–ï¼Œä»è€Œæœ‰æ›´é«˜çš„æ‰§è¡Œæ•ˆç‡ã€‚

æ‰€ä»¥ä¸Šé¢ä»£ç ä¸­ï¼Œæ‰€æœ‰ä½¿ç”¨Â `let`Â çš„éƒ¨åˆ†ï¼Œå…¶å®éƒ½åº”è¯¥æ˜¯ç”¨Â `const`Â çš„ã€‚

æ¨¡æ¿å­—ç¬¦ä¸²
---
è¯­æ³•ç®€æ´ï¼Œè¯­ä¹‰æ˜ç¡®ï¼Œè€Œä¸”å¾ˆå¥½çš„è§£å†³äº†ä¹‹å‰å­—ç¬¦ä¸²æ‹¼æ¥éº»çƒ¦çš„é—®é¢˜ï¼ˆè¿˜è®°å¾—ä»¥å‰ç”¨åŸç”Ÿï¼ŒjQueryåšajaxè¯·æ±‚çš„æ—¶å€™ï¼Œæ‹¼domæ‹¼å¾—è¦æ­»è¦æ´»å¾—æ—¥å­ä¹ˆâ€¦â€¦ï¼‰

å› ä¸ºä»–å¹¶ä¸æ˜¯ â€œå¿…é¡»â€ çš„ï¼Œè€Œä¸”åŸæœ‰çš„å­—ç¬¦ä¸²æ‹¼æ¥æ€ç»´æ ¹æ·±è’‚å›ºï¼Œå¯¼è‡´æˆ‘ä»¬å¾ˆå®¹æ˜“å¿½è§†æ‰ä»–ã€‚

## ä½¿ç”¨å®ä¾‹
ä¸€èˆ¬ä½¿ç”¨åœºæ™¯
```
const start = 'Hello everyone';  
  
const getName = () => {  
return 'Harry Potter';  
};  
  
const conf = {  
fav: 'Magic'  
};  
  
// æ¨¡æ¿  
const msg = `${start}, my name is ${getName()}, ${conf.fav} is my favourite`;
```
ä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹
---
```
//1.ä¸å¼•å·æ··ç”¨
const saySth = `I'm a "wizard"`;

//2.æ”¯æŒå¤šè¡Œæ–‡æœ¬
const slogan = 
`
I AM THE KING OF THE WORLD!
`;

//æ¯”è¾ƒé€‚åˆå†™HTML
const resultTpl = 
`<section>
		<div></div>
	</section>
`
```
å¢å¼ºçš„å¯¹è±¡å­—é¢é‡
---
å¢å¼ºçš„å¯¹è±¡å­—é¢é‡æ˜¯ ES6 ä¸­çš„å‡ååŠŸèƒ½ï¼Œä»–è®¾è®¡äº†å¾ˆå¤šç®€å†™ï¼Œè¿™äº›ç®€å†™ä¸ä½†ä¿ç•™äº†æ˜ç¡®çš„è¯­ä¹‰ï¼Œè¿˜å‡å°‘äº†æˆ‘ä»¬å¤šä½™çš„ä»£ç é‡ã€‚

å½“ä»–çš„ä½¿ç”¨æˆä¸ºä¸€ä¸ªä¹ æƒ¯æ—¶ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°è‡ªå·±ä»£ç å˜å¾—æ›´ä¸ºä¼˜é›…ã€‚
```

const _bookNum = 4;

const basicConfig = {
  level: 5
}

const config = {
  // ç›´æ¥æŒ‡å®šåŸå‹å¯¹è±¡
  __proto__: basicConfig,
  
  // å±æ€§ç®€å†™
  _bookNum,
  
  // æ–¹æ³•ç®€å†™
  getBookNum() {
    return this.bookNum;
  }
}
```
ç®­å¤´å‡½æ•°
---
ç®­å¤´å‡½æ•°æ˜¯ES6ä¸­çš„ä¸€ä¸ªæ–°çš„è¯­æ³•ç‰¹æ€§ï¼Œä»–çš„ç”¨æ³•ç®€å•ï¼Œå½¢æ€ä¼˜é›…ï¼Œå¤‡å—äººä»¬é’çã€‚

å¤§å¤šæ•°åŒå­¦åˆè¯†è¿™ä¸ªç‰¹æ€§æ—¶ï¼Œæ›´å¤šçš„ä»…ä»…ç”¨å®ƒä½œä¸ºå‡½æ•°å®šä¹‰çš„ç®€å†™ï¼Œè¿™å…¶å®å°±æœ‰äº›å±ˆæ‰äº†ã€‚
```
// æœªä½¿ç”¨ç®­å¤´å‡½æ•°çš„å†™æ³•
{
  ...
  
  addOptions: function (options) {
  
    var self = this;
  
    options.forEach(function(name, opts){
      
      self[name] = self.addChild(name, opts);
      
    });
    
  } 
}

// ä½¿ç”¨ç®­å¤´å‡½æ•°åçš„å†™æ³•
{
  ...
  
  addOptions: function (options) {
  
    options.forEach((name, opts) => {
      
      this[name] = this.addChild(name, opts);
      
    });
    
  } 
}
```
å¯ä»¥æ³¨æ„åˆ°ä¸Šä¸‹ä¸¤æ®µä»£ç çš„åŒºåˆ«ã€‚

åœ¨æœªä½¿ç”¨ç®­å¤´å‡½æ•°å‰ï¼Œæˆ‘ä»¬åœ¨è¿‡ç¨‹å‡½æ•°ä¸­ä½¿ç”¨çˆ¶çº§ thisï¼Œéœ€è¦å°†å…¶æ˜¾å¼ç¼“å­˜åˆ°å¦ä¸€ä¸ªä¸­é—´å˜é‡ä¸­ï¼Œå› ä¸ºè¿‡ç¨‹å‡½æ•°æœ‰ç‹¬ç«‹çš„ this å˜é‡ï¼Œä¼šè¦†ç›–çˆ¶çº§ï¼›ä½¿ç”¨ç®­å¤´å‡½æ•°åï¼Œä¸ä½†ç®€å†™äº†ä¸€ä¸ªè¿‡ç¨‹å‡½æ•°ï¼ˆ forEach çš„å‚æ•°ï¼‰ï¼Œè¿˜çœç•¥æ‰äº† this çš„ä¸­é—´å˜é‡çš„å®šä¹‰ã€‚

åŸå› ï¼šç®­å¤´å‡½æ•°æ²¡æœ‰ç‹¬ç«‹æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆ this ï¼‰ï¼Œæ‰€ä»¥å…¶å†…éƒ¨å¼•ç”¨ this å¯¹è±¡ä¼šç›´æ¥è®¿é—®çˆ¶çº§ã€‚
>æ’æ’­ï¼šåŸæ¥æˆ‘ä»¬å®šä¹‰è¿™ä¸ªä¸­é—´å˜é‡è¿˜æœ‰ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼Œå°±æ˜¯æ˜æ˜åƒå¥‡ç™¾æ€ªï¼Œä¾‹å¦‚ self, that, me, _that, _me, Self...ï¼Œå¿«ç«™å‡ºæ¥è¯´è¯´ä½ ç”¨è¿‡å“ªä¸ªï¼Œè¿˜æ˜¯å“ªå‡ ä¸ª~

å½“ç„¶ï¼Œä»è¿™å—æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œç®­å¤´å‡½æ•°æ˜¯æ— æ³•æ›¿ä»£å…¨éƒ¨ function çš„ä½¿ç”¨åœºæ™¯çš„ï¼Œä¾‹å¦‚æˆ‘ä»¬éœ€è¦æœ‰ç‹¬ç«‹ this çš„å‡½æ•°ã€‚

ä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹
---
Â·ç®­å¤´å‡½æ•°ä¸ä½†æ²¡æœ‰ç‹¬ç«‹ thisï¼Œä»–ä¹Ÿæ²¡æœ‰ç‹¬ç«‹çš„ argumentsï¼Œæ‰€ä»¥å¦‚æœéœ€è¦å–ä¸å®šå‚çš„æ—¶å€™ï¼Œè¦ä¹ˆä½¿ç”¨ functionï¼Œè¦ä¹ˆç”¨ ES6 çš„å¦ä¸€ä¸ªæ–°ç‰¹æ€§ restï¼ˆå…·ä½“åœ¨ rest ä¸­ä¼šæœ‰è¯¦è§£ï¼‰ã€‚
Â·ç®­å¤´å‡½æ•°è¯­æ³•å¾ˆçµæ´»ï¼Œåœ¨åªæœ‰ä¸€ä¸ªå‚æ•°æˆ–è€…åªæœ‰ä¸€å¥è¡¨è¾¾å¼åšæ–¹æ³•ä½“æ—¶ï¼Œå¯ä»¥çœç•¥ç›¸åº”æ‹¬å·ã€‚
```
// å®Œæ•´å†™æ³•
const getOptions = (name, key) => {
  ...
}

// çœç•¥å‚æ•°æ‹¬å·
const getOptions = key => {
  ... 
}

// çœç•¥å‚æ•°å’Œæ–¹æ³•ä½“æ‹¬å·
const getOptions = key => console.log(key);

// æ— å‚æ•°æˆ–æ–¹æ³•ä½“ï¼Œæ‹¬å·ä¸èƒ½çœç•¥
const noop = () => {};
```
æœ‰ä¸ªç®€å•å°æ —å­ï¼Œè¿™ä¸€çµæ´»çš„è¯­æ³•åœ¨å†™è¿ç»­çš„Promiseé“¾å¼è°ƒç”¨æ—¶ï¼Œå¯ä»¥ä½¿ä»£ç æ›´åŠ ä¼˜é›…
```
gitPromise
  .then(() => git.add())
  .then(() => git.commit())
  .then(() => git.log())
  .then((msg) => {
      ...
  })
  .then(() => git.push())
  .catch((err) => {
      utils.error(err);
  });
```

è§£æ„å‡½æ•°
---
è§£æ„è¿™ä¸ªç‰¹æ€§å¯ä»¥ç®€å•è§£è¯»ä¸ºåˆ†åˆ«å®šä¹‰ï¼Œç”¨äºä¸€æ¬¡å®šä¹‰å¤šä¸ªå˜é‡ï¼Œå¸¸å¸¸ç”¨äºåˆ†è§£æ–¹æ³•è¿”å›å¯¹è±¡ä¸ºå¤šä¸ªå˜é‡ï¼Œåˆ†åˆ«ä½¿ç”¨ã€‚
ä½¿ç”¨è¿‡ES6çš„åŒå­¦åº”è¯¥æˆ–å¤šæˆ–å°‘æ¥è§¦è¿‡è¿™ä¸ªç‰¹æ€§ï¼Œä½†æ˜¯ä½ å¯èƒ½ä¸çŸ¥é“å®ƒå¦‚ä¸‹å‡ ä¸ªç”¨æ³•ï¼š

ä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹
---
```
const bookSet = ['è¥¿æ¸¸è®°', 'æ°´æµ’ä¼ ', 'ä¸‰å›½æ¼”ä¹‰', 'çº¢æ¥¼æ¢¦'];
const bookCollection = () => {
  return {book1: 'æµ·åº•ä¸¤ä¸‡äº”', book2: 'é²æ»¨é€Šæ¼‚æµè®°'};
};

// 1. è§£æ„ä¹Ÿå¯ä»¥è®¾ç½®é»˜è®¤å€¼
const {book1, book3 = 'æµ·åº•ä¸¤ä¸‡äº”'} = bookCollection();

// 2. è§£æ„æ•°ç»„æ—¶å€™æ˜¯å¯ä»¥è·³è¿‡å…¶ä¸­æŸå‡ é¡¹çš„
const [book1,,book3] = bookSet;  // book1 = 'è¥¿æ¸¸è®°', book3 = 'ä¸‰å›½æ¼”ä¹‰'

// 3. è§£æ„å¯ä»¥å–åˆ°æŒ‡å®šå¯¹è±¡çš„ä»»ä½•å±æ€§ï¼ŒåŒ…æ‹¬å®ƒåŒ…å«çš„æ–¹æ³•
const {length: setLength} = bookSet;  // setLength = 3
```

Rest + Spread
---
Rest å’Œ Spread ä¸»è¦æ˜¯åº”ç”¨ ... è¿ç®—ç¬¦ï¼Œå®Œæˆå€¼çš„èšåˆå’Œåˆ†è§£ã€‚

ä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹
---
```
// 1. rest å¾—åˆ°çš„æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„è€Œä¸æ˜¯ä¸€ä¸ªä¼ªæ•°ç»„
const getOptions = function(...args){
  console.log(args.join); // function
};

// 2. rest å¯ä»¥é…åˆç®­å¤´å‡½æ•°ä½¿ç”¨ï¼Œè¾¾åˆ°å–å¾—æ‰€æœ‰å‚æ•°çš„ç›®çš„
const getOptions = (...args) => {
  console.log(args); // array
};

// 3. spread å¯ä»¥ç”¨äºè§£æ„æ—¶ï¼Œèšåˆæ‰€å¾—çš„å€¼
const [opt1, ...opts] = ['one', 'two', 'three', 'four'];

// 4. spread å¯ä»¥ç”¨äºæ•°ç»„å®šä¹‰
const opts = ['one', 'two', 'three', 'four'];
const config = ['other', ...opts];
```

Classes
---
ES6 ä¸­å®ç°çš„ä¸€ä¸ªè¯­æ³•ç³–ï¼Œç”¨äºç®€åŒ–åŸºäºåŸå‹é›†æˆå®ç°ç±»å®šä¹‰çš„åœºæ™¯ã€‚
è™½ç„¶æœ‰å¾ˆå¤šäººä¸å¤ªå–œæ¬¢è¿™ä¸ªç‰¹æ€§ï¼Œè®¤ä¸ºå®ƒä½œä¸ºä¸€ä¸ªç®€å•å¢å¼ºæ‰©å±•ï¼Œå¹¶æ²¡æœ‰å…¶ä»–è¯­è¨€ class åº”æœ‰çš„ç‰¹ç‚¹ã€‚
ä½†æ˜¯å°±æˆ‘è‡ªå·±è§‚ç‚¹æ¥çœ‹ï¼Œè¿˜æ˜¯æ„Ÿè§‰è¿™æ ·ä¸€ç§å†™æ³•ç¡®å®æ¯”åŸæœ‰çš„åŸå‹ç»§æ‰¿çš„å†™æ³•è¯­ä¹‰æ›´æ¸…æ™°ã€æ˜ç¡®ï¼Œè€Œä¸”è¯­æ³•æ›´ç®€å•ã€‚

åŒæ ·ï¼Œå¯èƒ½æœ‰äº›ç”¨æ³•æ˜¯ä½ ä¹‹å‰å®¹æ˜“å¿½ç•¥æ‰çš„ï¼Œåœ¨æ­¤åšä¸ªè¡¥å……ã€‚

ä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹
---
```
// 1. é™æ€å˜é‡
// ES6 çš„ç±»å®šä¹‰å®ç°äº†é™æ€æ–¹æ³•çš„å®šä¹‰ï¼Œä½†é™æ€å˜é‡å‘¢ï¼Ÿ
// å¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼å®ç°: 
class Hogwarts {
  static get menber(){
    return 'Harry Potter';
  }
}
Hogwarts.menber; // "Harry Potter"

// 2. ç§æœ‰å±æ€§ï¼ˆç§æœ‰å±æ€§æœ‰å¤šç§å®ç°æ–¹å¼ï¼Œåªè°ˆåŠå…¶ä¸­ä¸€ç§ï¼‰
// é—­åŒ…
const Hogwarts = (() => {
  const menber = 'Harry Potter';
  
  return class{
    getOneMemberName(){
      return menber;
    }
  };
})();
```

Promises
---
Promise ä¸åªæ˜¯ä¸€ä¸ªå¯¹è±¡ã€ä¸€ä¸ªè¯­æ³•ï¼Œä»–æ›´æ˜¯ä¸€ç§å¼‚æ­¥ç¼–ç¨‹æ–¹å¼çš„å˜åŒ–
ç›¸ä¿¡ä½¿ç”¨è¿‡ ES6 çš„åŒå­¦éƒ½å·²ç»å¼€å§‹å°è¯•äº† Promiseï¼Œç”šè‡³åœ¨ä¸æ”¯æŒES6çš„æ—¶å€™ï¼Œå·²ç»å¼€å§‹ä½¿ç”¨ä¸€äº›åŸºäº Promise æ€æƒ³çš„å¼€æºæ¡†æ¶ã€‚

é‚£ä¹ˆæˆ‘ä»¬ä¹‹å‰ç”¨ Promise ç©¶ç«Ÿç”¨çš„å¯¹ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„ç‚¹å‘¢ï¼Ÿ

ä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹
---
```

// 1. å¤šä¸ªå¼‚æ­¥ä»»åŠ¡åŒæ—¶æ‰§è¡Œç”¨ Promise.allï¼Œé¡ºåºæ‰§è¡Œä½¿ç”¨é“¾å¼è°ƒç”¨
// Promise.all
Promise
  .all([jsBuildPromise, cssBuildPromise])
  .then(() => {
    ...
  });

// chain
jsBuildPromise
  .then(() => cssBuildPromise)
  .then(() => {
    ...
  });


// 2. Promise çš„é“¾å¼è°ƒç”¨éœ€è¦æ¯ä¸€ä¸ªè¿‡ç¨‹è¿”å›ä¸€ä¸ª Promise å¯¹è±¡æ‰èƒ½ä¿è¯é¡ºåºæ‰§è¡Œ
gitPromise
  .then(() => git.add())  // æ­£ç¡®ï¼Œç®­å¤´å‡½æ•°ç®€å†™
  .then(() => {
    git.commit(); // é”™è¯¯ï¼Œå‡½æ•°è¿”å› undefinedï¼Œä¼šç«‹å³æ‰§è¡Œä¸‹ä¸€è¿‡ç¨‹
  })
  .then(() => {
    return git.log(); // æ­£ç¡®
  });


// 3. Promise éœ€è¦è°ƒç”¨ catch æ–¹æ³•æ¥æ•è·é”™è¯¯ï¼Œè€Œä¸”è¿‡ç¨‹å†…çš„é”™è¯¯ä¸ä¼šé˜»å¡åç»­ä»£ç æ‰§è¡Œ
new Promise(() => {
  f;  // not define error !
})
.catch((err) => {
  console.log(err)  // show 'f is not define'
});
console.log('error test');  // æ­¤è¡Œå¯ä»¥è¢«æ­£å¸¸æ‰§è¡Œ
```

å‚è€ƒèµ„æ–™
---
https://developer.mozilla.org/en-US/docs/Web/JavaScript
https://ponyfoo.com/articles/es6-spread-and-butter-in-depth
http://www.2ality.com/2015/01/es6-destructuring.html
http://www.datchley.name/es6-rest-spread-defaults-and-destructuring/



